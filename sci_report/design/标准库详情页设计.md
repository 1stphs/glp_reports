## **1. 全局布局：资产中枢 (The Asset Hub)**

建议采用典型的 **SaaS 管理后台布局**，通过 React 的状态管理确保资产在“定义”与“引用”之间的流转。

* **导航模式**：左侧侧边栏（Sidebar）进行资产分类，中间为资产列表/搜索区，右侧为抽屉式或整页式的资产配置详情。
* **设计规范**：采用 **Ant Design** 或 **Tailwind UI** 风格，强调高信息密度与严谨的对齐方式，体现 GLP 行业的专业感。

---

## **2. 核心模块一：报告模板编辑器 (Schema-Based Template Editor)**

这是标准库最核心的部分，用于定义报告的章节目录及其背后的任务协议。

### **UI 结构：**

* **左侧：章节脊柱 (Chapter Backbone)**
* 采用树状结构展示报告目录。
* 支持拖拽排序、增删章节。


* **中部：章节协议配置区 (Chapter Protocol Configuration)**
* 每个章节都是一个独立的配置单元。
* **协议绑定**：用户在此为章节指派一个“逻辑契约（Logic Contract）”和一个“叙述包（Narrative Package）”。


* **右侧：Word 样式预览 (Style Preview)**
* 展示该章节在 Word 文档中的排版样式（字体、字号、缩进）。



---

## **3. 模块二：数据契约定义 (Data Contract Specification)**

在 React 前端中，这部分将以**可视化表单编辑器**的形式呈现，定义“左脑”必须产出的结构化数据。

| 元素 | UI 表现形式 | 功能描述 |
| --- | --- | --- |
| **字段定义** | 列表式键值对编辑器。 | 定义变量名（如 `${Mean_Value}`）、类型（Number/Text）及单位。 |
| **判定规则** | 逻辑判定配置器。 | 设定 SOP 阈值（如 `CV < 15%`）。当数据不符时，系统自动在工作台预警。 |
| **数据源映射** | 标签式选择器。 | 指定该字段来自何种原始文件（如“生分 Excel”或“病理报告”）。 |

---

## **4. 模块三：叙述范例管理 (Few-shot Management)**

管理用于引导“右脑”生成的 3-5 个专家级范例。

* **范例卡片 (Example Cards)**：
* **原文展示**：展示专家审核过的标准段落。
* **变量高亮**：在文本中用不同颜色的标签标记出变量（如 **{{CV}}**），点击可直接链接至数据契约中的定义。
* **应用场景标签**：标记该范例适用于“结果符合”还是“结果异常”的情况。


* **文风过滤器**：配置全局叙述规则，如“时态自动转换 (Future to Past)”或“语态要求”。

---

## **5. 核心页面：三位一体配置视图 (Tri-Fold Configuration View)**

当用户在模板库中选中一个特定章节（如“精密度与准确度”）时，React 页面将展示以下三个并列的卡片：

1. **左卡片：数据契约 (The Left Brain)**
* 展示该章节必须包含的 JSON 数据结构。
* 用户可在此定义计算逻辑的“入参”和“出参”。


2. **中卡片：参考范例 (The Right Brain)**
* 列出该章节的 3-5 个 Few-shot 案例。
* 提供“模拟生成”按钮，让用户预览当这些范例遇到左侧的数据时，会生成什么样的文稿。


3. **右卡片：格式约束 (The Expression)**
* 上传和配置 Word 章节模板文件（.docx），确保像素级完美的格式对齐。



---

## **6. 合规性与治理 (Governance & Compliance UI)**

* **版本控制面板 (Versioning)**：
* 显示模板的修订记录：`Draft` -> `Reviewing` -> `Published`。
* **Diff 视图**：像代码对比一样，直观显示两个版本之间“范例”或“判定规则”的修改点。


* **发布工作流 (Approval Workflow)**：
* 强制性的“变更理由”输入框。
* 满足 **21 CFR Part 11** 的电子签名入口，确保资产变更可追溯。

