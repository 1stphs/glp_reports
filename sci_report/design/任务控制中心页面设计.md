# GLP-Intelligence Suite 任务控制中心（Study Control Center）设计方案

**核心隐喻**：这是一个**“自动化流水线监控室”**。用户无需时刻盯着每一个螺丝钉（单元格），只需关注报警红灯（异常）和整体进度。

---

## 1. 页面布局概览 (UI Layout)

*   **左侧：原材料感知区 (Inventory & Parsing)** (宽 25%)
    *   展示所有上传的 Protocols 和 Raw Data。
    *   **实时状态灯**：显示文件是否已被 AI 成功解析并结构化。

*   **右侧：任务进度矩阵 (The Task Matrix)** (宽 75%)
    *   **核心升级**：引入**“泳道折叠 (Swimlane Folding)”**机制，解决长列表的视觉疲劳问题。

---

## 2. 矩阵设计升级：泳道与折叠

为了应对 GLP 报告数十个章节的复杂性，矩阵默认按**章节组 (Section Groups)** 进行折叠。

### **2.1 视图逻辑**

*   **默认视图 (Overview)**：
    *   显示大标题泳道，如 `1. 摘要 (Summary)`, `2. 方法 (Methods)`, `3. 结果 (Results)`。
    *   每个泳道显示摘要信息：*“5/5 章节完成，无异常”*。
*   **展开视图 (Detail View)**：
    *   点击泳道，展开该组下的具体子章节（如 `3.1 准确度`, `3.2 稳定性`）。
    *   此时才显示详细的 **章节 x 4阶段 (P1-P4)** 网格。

### **2.2 视觉降噪**

*   **High Confidence (高置信度)**：对于 AI 判定为“高置信度且无异常”的单元格，显示淡绿色，视觉上“后退”。
*   **Anomalies (异常)**：对于发现逻辑矛盾或超标数据的单元格，显示**高亮红框**，通过视觉“跳出”来吸引用户注意力。

---

## 3. 批量操作：例外管理 (Management by Exception)

这是提升 Power User 效率的关键设计。

### **3.1 一键批准 (Batch Approve)**

*   **场景**：当一个章节组（如“附录”）内的所有 P1 数据映射和 P2 逻辑计算均由系统判定为 Pass 且 Confidence > 98% 时。
*   **交互**：
    *   泳道右侧出现 `⚡️ Batch Approve (Safe)` 按钮。
    *   用户点击后，无需进入详情页，系统自动锁定该组所有单元格的 P1/P2 状态，并自动触发 P3 文稿生成。
    *   *提示文案*：“已自动批准 12 个高置信度任务。人工复核可随时在详情页进行。”

### **3.2 批量修正 (Batch Correction)**

*   **场景**：当多个章节出现同类错误（如：所有章节的“公司名称”都拼错了）。
*   **交互**：
    *   用户在其中一个单元格修正后，系统弹出提示：“检测到其他 5 个章节有类似文本，是否应用全部？”

---

## 4. 任务锁定与依赖 (Gating & Dependencies)

*   **刚性依赖**：P2（计算）必须等待 P1（数据）锁定。
*   **柔性推荐**：P3（生成）推荐等待 P2 锁定，但允许“草稿预览模式”（Draft Mode），方便用户提前查看大概样子，但在 P2 锁定前无法进行 P4 签署。

---

## 总结

新的控制中心设计从**“罗列任务”**进化为**“智能筛选任务”**。我们通过折叠和颜色编码，引导用户将宝贵的精力只花在**红色（异常）**和**黄色（低置信度）**的任务上，而让绿色任务自动化流转。